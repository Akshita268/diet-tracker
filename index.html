<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hard Mode Health Tracker</title>
    <style>
        :root {
            --bg: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.7);
            --danger: #ef4444;
            --success: #22c55e;
            --text: #f8fafc;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a, #1e1b4b);
            color: var(--text);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .container {
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 24px;
            width: 90%;
            max-width: 450px;
            text-align: center;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        h1 { font-size: 1.5rem; margin-bottom: 0.5rem; letter-spacing: 1px; }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 16px;
        }

        .stat-value { font-size: 1.8rem; font-weight: bold; display: block; }
        .stat-label { font-size: 0.8rem; opacity: 0.7; text-transform: uppercase; }

        .scold-area {
            min-height: 80px;
            margin-bottom: 2rem;
            padding: 1rem;
            border-radius: 12px;
            font-style: italic;
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid var(--danger);
            display: none;
        }

        .btn-group { display: flex; gap: 10px; }

        button {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, opacity 0.2s;
        }

        button:active { transform: scale(0.95); }

        .btn-clean { background: var(--success); color: white; }
        .btn-junk { background: var(--danger); color: white; }

        #history {
            margin-top: 2rem;
            text-align: left;
            font-size: 0.85rem;
            max-height: 150px;
            overflow-y: auto;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 1rem;
        }

        .history-item { color: var(--danger); margin-bottom: 4px; }
    </style>
</head>
<body>

<div class="container">
    <h1>ACCOUNTABILITY LOG</h1>
    <p id="time-prompt" style="opacity: 0.6; font-size: 0.9rem;">Did you eat in the last hour?</p>

    <div id="scold-box" class="scold-area"></div>

    <div class="stats-grid">
        <div class="stat-card">
            <span id="score" class="stat-value">1000</span>
            <span class="stat-label">Health Credits</span>
        </div>
        <div class="stat-card">
            <span id="streak" class="stat-value">0</span>
            <span class="stat-label">Day Streak</span>
        </div>
    </div>

    <div class="btn-group">
        <button class="btn-clean" onclick="logAction(false)">I STAYED CLEAN</button>
        <button class="btn-junk" onclick="logAction(true)">I ATE JUNK</button>
    </div>

    <div id="history">
        <strong>Failure Log:</strong>
        <div id="log-list"></div>
    </div>
</div>

<script>
    const scoldMessages = [
        "So you value a sugar rush over your hormonal balance? Pathetic.",
        "Your past health issues clearly weren't enough of a lesson for you.",
        "Disappointing. You just reset all your progress for a snack.",
        "Enjoy the brain fog and inflammation. Was it worth it?",
        "Weak. Every time you eat that, you betray your future self.",
        "You're literally paying companies to ruin your health. Think about that.",
        "Another failure logged. Your streak is gone, just like your discipline."
    ];

    let data = JSON.parse(localStorage.getItem('healthTracker')) || {
        score: 1000,
        streak: 0,
        failures: [],
        lastCheckIn: Date.now()
    };

    function updateUI() {
        document.getElementById('score').innerText = data.score;
        document.getElementById('streak').innerText = data.streak;
        
        const logList = document.getElementById('log-list');
        logList.innerHTML = data.failures.map(f => `<div class="history-item">âœ˜ ${f}</div>`).join('');
        
        localStorage.setItem('healthTracker', JSON.stringify(data));
    }

    function logAction(isJunk) {
        const scoldBox = document.getElementById('scold-box');
        
        if (isJunk) {
            data.score -= 200;
            data.streak = 0;
            const msg = scoldMessages[Math.floor(Math.random() * scoldMessages.length)];
            scoldBox.innerText = msg;
            scoldBox.style.display = 'block';
            
            const timestamp = new Date().toLocaleString();
            data.failures.unshift(timestamp);
            if(data.failures.length > 5) data.failures.pop(); // Keep only last 5
        } else {
            data.score += 10;
            scoldBox.style.display = 'none';
            // Logic: Increment streak if 24 hours passed since last reset (simplified)
            // For now, we'll keep it simple: every "Clean" check adds small points
        }
        
        updateUI();
    }

    // Check for streak logic on load
    updateUI();
</script>

</body>
</html>
